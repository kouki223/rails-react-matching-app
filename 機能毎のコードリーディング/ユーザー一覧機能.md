- ユーザー一覧機能
    - 表示されている状態・要素など
        - CommonLayoutで共通するスタイリングとして
            - Header
            - Children
                - が表示されている
                    - Headerコンポーネントの状態(switch)に応じてChildrenの表示内容が変化する
            - Headerコンポーネント
                - AuthButtonsコンポーネント => 認証情報に応じてボタンの内容を変更する
                    - !loadingとする事でローディングが終了した後(トークン情報などが読み込まれた後)
                        - isSignedInがtrueの場合には
                            - コンポーネントへのIconButtonを表示する
                        - isSignedInがfalseだった場合には
                            - サインインコンポーネントへのIconButtonを表示する
                - 各コンポーネントへのボタンがクリックされるとReact-routerにpathが渡されてる
                    - AppコンポーネントではPrivateにラップされている
                        - コンポーネントの表示をする前にPrivate関数が実行される
                            - !loadong => false
                                - isSignedIn => true
                                    - その場合、childrenを表示する
                                - falseの場合
                                    - サインインコンポーネントへリダイレクト
                            - !loadong => trueの場合(ローディング中)
                                - 何も表示しない
                    - その後、Childrenコンポーネントが表示される
    - 表示条件
        - AppコンポーネントでCommonLayoutが定義されている
            - その中でSwitchが定義されている
                - Route
                    - SignUp
                    - SignIn
                - Private
                    - Switch
                        - Home
                        - Users
                        - ChatRooms
                        - ChatRoom
                        - NotFound
    - 前提条件
        - Usersコンポーネントが表示されている場合
            - loading => false
            - isSignedIn => true

    - ユーザー一覧機能　＝＞　処理の流れ
        - App.tsx内でusersとしてAPIを叩く：コンポーネントはUsers
            - path => users
                - baseURL+users
                    - index,show,updateが指定される
        - Usersコンポーネント
            - useEffect
                - コンポーネントのレンダリング時にhandleGetUsers()とhandleGetLikes()が実行される
                    - handleGetUsers() => ユーザー一覧を取得する
                        - async => 非同期処理
                            - try,catch
                                - 変数resを定義する
                                    - getUsers関数を実行する
                                        - getUsers
                                            - HTTPメソッドがGETでAPIを叩く
                                                - BE
                                                    - resourcesにおいてGET => indexを示す
                                                        - usersコントーローラーのindexアクションを発火させる
                                                            - ローカル変数のusersにUserモデルを介してwhereメソッドを実行する
                                                                - whereメソッド
                                                                    - prefecture: current_api_v1_user.prefecture
                                                                        - まず、prefectureカラムの値が自分の値と同じカラムを全て配列の形にして取得する
                                                                - whereメソッド＋notメソッド
                                                                    - id: current_api_v1_user.id
                                                                        - idカラムの値が同じカラム
                                                                    - gender: current_api_v1_user.gender
                                                                        - genderカラムの値が自分と同じカラム
                                                                            - この2つのカラムを除外する
                                                                - orderメソッド
                                                                    - created_atカラムがDESC(降順)になるように並び替える
                                                            - render
                                                                - json形式でstatusコード200とusersプラパティの値として変数usersを返す
                                - コンソールに変数resを出力する
                                - if文
                                    - 条件に変数resが存在する場合にはstatusプロパティが200と厳密に等しいか？判断する
                                        - trueの場合
                                            - setUsers関数を発火する
                                                - 引数に変数resのdataプロパティのusersプロパティ(自分以外の同じ県で性別が違うレコードを代入した配列)を渡す
                                        - falseの場合
                                            - コンソールにNo usersを出力する
                            - catch文としてエラーを受け取りコンソールに出力する
                    - handleGetLikes() => いいね一覧を取得する
                        - async => 非同期処理
                            - 変数resにgetLikes関数を実行し代入する
                                - getLikes関数
                                    - HTTPメソッドがGETでpathにlikesを渡す
                                    - headers情報には認証情報を渡す
                        - BE
                            - likesコントローラーのindexアクションを実行する
                                - render json json形式でデータを返す
                                    - statusプロパティには200
                                    - active_likesプロパティには
                                        - current_api_v1_user.active_likes
                                            - active_likes
                                                - createメソッドで定義した値
                                    - passive_likesには
                                        - current_api_v1_user.passive_likes
                                            - passive_likes
                                                - createメソッドで定義した値
                        - FE
                            - コンソールに変数resを出力する
                            - if文を条件を変数resのstatusプロパティが厳密に200と等しい場合として
                                - trueの場合には
                                    - setLikedUsersにres?.data.activeLikesを渡して状態を更新する
                                - falseの場合には
                                    - コンソールにNo likesと出力する
                            - catch文
                                - コンソールにエラーを出力する
            - !loading
                - trueの場合(ローディングが終了している場合)
                    - useStateで管理しているusersが存在するか？しない場合にはnilを返す、存在する場合にはlengthメソッドを使い配列の長さをチェックして0より大きい場合には三項演算子のtrueの時に表示されるコンポーネントを表示する
                        - Gridコンポーネント
                            - 配列usersに対してmap関数を引数にusersとindexを受け取る
                                - divタグのkeyに引数として受け取ったindexを代入してonClick関数を紐付けづける
                                    - onClik関数
                                        - setUser関数
                                            - 引数にuserを受け取る
                                        - setUserDetailOpen
                                            - 引数にtrueを渡す
                                - Gridコンポーネント => item
                                    - Avatar
                                        - src属性にはuser?.image.urlを指定する
                                    - Typography
                                        - テキスト表示用のコンポーネント
                                            - user.nameを表示する
                    - 三項演算子がfalseの場合
                        - Typography => テキスト表示用のコンポーネント
                            - まだ1人もユーザーがいません。 を表示する
                - fslseの場合(ローディング中の場合)
                    - 何も表示しない(<></>)
            - Dialogコンポーネント(モーダル)
                - open属性にuserDetailOpenを紐づける
                - onClose属性
                    - setUserDetailOpen(false)を紐づける
                - DialogContentコンポーネント
                    - Grid container
                        - Grid item
                            - Avatar
                                - src属性
                                    - user?.image.urlを指定する
                    - Grid container
                        - Grid item
                            - Typography => テキストを表示するコンポーネント
                                - {user.name}
                                    - ユーザー名
                                - {userAge()}歳
                                    - 年齢
                                - ({userPrefecture()})
                                    - 県名を表示する
                            - Typography
                                - 自己紹介
                            - Typography
                                - userオブジェクトのprofileプロパティ
                                    - trueの場合には表示
                                    - falseの場合には"よろしくお願いします。"を表示する
                    - Grid container
                        - Button
                            - onClick関数にisLikedUser関数
                                - user.idの値がある場合には
                                    - void(0)
                                - falseの場合には
                                    - handleCreateLike(user)
                            - disabled属性
                                - isLikedUser関数のuser.idの値が
                                    - trueの場合はtrue
                                    - falseの場合にはfalse
                            - 表示する内容は    
                                -  isLikedUser関数のuser.idの値が
                                    - trueの場合はいいね済み
                                    - falseの場合にはいいね
            - AlertMessageコンポーネント
                - open属性にはalertMessageOpenを紐づける
                - setOpen属性にはsetAlertMessageOpenを紐づける
- コールグラフ
    - useEffect
        - handleGetUsers
            - getUsers
                - setUsers
                    - setLoading
        - handleGetLikes
            - getLikes
                - setLikedUsers
    - Userコンポーネント
        - Grid
            - map
                - div
                    - onClick
                        - setUser
                        - setUserDetailOpen
                    - Grid item
                        - Avatar
                        - Typography
                            - {user.name}
            - Typography
        - Dialog
            - open
                - userDetailOpen
            - onClose
                - setUserDetailOpen
        - DialogContent
            - Grid container
                - Grid item
                    - Avatar
                        - src => user?.image.url
            - Grid container
                - Grid item
                    - Typography
                        - {user.name}
                        - {userAge()}歳
                        - ({userPrefecture()})
                    - Typography
                    - Typography
                        - user.profile
            - Grid container
                - Button
                    - onClick
                        - isLikedUser(user.id)
                    - isLikedUser(user.id)
        - AlertMessage
            - open
                - alertMessageOpen
            - setOpen
                - setAlertMessageOpen