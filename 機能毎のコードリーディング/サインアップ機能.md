- サインアップ機能
  - SignUpコンポーネント
    - 各入力フィールド
      - name
      - email
      - password
      - passwordConfirmation
          - 各入力項目が正常に入力できている場合
            - 送信ボタンが表示される
    - 送信ボタン
      - 送信ボタンがクリックされるとクリックイベントが発火する
        - handleSubmitが実行される
  - handleSubmit関数
    - 発火すると非同期処理が走る(async)
    - 引数にeを受け取る
      - eの型を定義
        - React.MouseEvent<HTMLButtonElement>
          - Reactというnamespaceが定義されている中のinterface(型の定義がまとまっているもの)
            - MouseEventというinterface
              - eにはvoid型を示すpreventDefaultを渡す
    - 変数dataを定義する
      - createFormData関数
        - 引数はなし、型はSignUpFormDataが定義されている
          - name: keyof SignUpData, value: String | Blob, fileName?: string): any
        - 変数formDataを定義する
          - interfaceとして定義されているFormDataからインスタンスを作成する
            - enrties関数を受け取る
              - keys
              - values
          - formDataの末尾に値を追加する
            - name
            - email
            - password
            - passwordConfirmation
            - gender
            - prefecture
            - birthday
            - image
          - returnで自身を返す
    - try,catchでerrハンドリングを行う
      - try文
        - 変数resを定義する
          - 非同期処理でsignUpに引数として変数dataを渡す
    - singUpコンポーネント
      - 引数としてdataを受け取る
        - 型としてSignUpFormDataを指定する
          - name: SignUpData
            - SignUpData　＝＞　append
              - name: string
              - email: string
              - password: string
              - passwordConfirmation: string
              - gender: number
              - prefecture: number
              - birthday: Date
              - image: string
          - value: String | Blob
            - Blob => interfaceで定義されている
          - fileName?: string
      - return 返す処理
        - client.post("auth", data)
          - clientで定義したベースURLにpostメソッドでリクエストを送る
            - client
              - 引数　＝＞　date
                - baseURL
                  - http://localhost:3001/api/v1/auth
                    - createメソッドでリクエストを送る
    - BE(Rails側)
      - API(http://localhost:3001/api/v1/auth)が叩かれる
        - devise_token_authのヘルパーメソッド
          - user_registration
            - POST /auth(.:format)
              - signup#create
        - mount_devise_token_auth_forを使ってUserモデルをマウントする
          - DeviseTokenAuthのRegistrationsControllerを継承したアカウント作成用のコントローラー
            - sign_up_paramsの設定をparamsから受け取った値で更新する
              - ヘルパーメソッドを使う
        - namespaceでauthを指定する
          - sessionsコントローラーのindexアクションを発火する
            - current_api_v1_user => cuurent_user
              - cuurent_userというヘルパーメソッドを使用するが、ルーティングにおいてnamespaceを切っているのでcurrent_api_v1_userに変更している
                - current_api_v1_user
                  - サインインしているユーザーを取得する
                    - sign_up_paramsにおいてサインアップが完了している場合には
                      - statusは200
                      - current_userとしてcurrent_api_v1_userが返ってくる
    - FE(TS＋React側)に戻る
      - auth.ts内で定義したsignUpコンポーネントでの処理が実行された後にif文の処理に入る
        - もし、statusコードが200番の場合
          - Cookiesにheaders情報に追加する
          - setIsSignedInにtrueを渡す
            - useContextでグローバルに状態管理をする
              - AuthContext
                - isSignedInには型としてbooleanを指定
                  - 真偽値が状態として入る
                - setIsSignedInには型としてReactモジュールのDispatchを指定する
                  - Dispatchはvoidを指定する
                    - SetStateActionを型のジェネリスクとして指定し真偽値を受け取る
          - setCurrentUserに変数resのdataプロパティのdataプロパティを渡す
            - useContextで状態管理を行なう
              - ReactモジュールのDispatch
                - SetStateActionを型のジェネリスクとして指定しパイプラインでUser or undefinedのどちらかで状態を管理する
          - histoy
            - LocationStateはunknown型になっている
              - historyではuseHistoryを使うようにする
                - histoy.push
                    - 新しいエントリを履歴スタックに追加
                      - その位置に遷移する
                        - homeページに遷都する
                          - そして、homeページをスタック
          - 各set関数を空白文字に更新する
          - ターミナルにSigned in successfully!と出力する
        - もし、もし、statusコードが200番ではない場合
          - setAlertMessageOpenにtrueを渡す
            - alertMessageOpenは真偽値で状態を管理している
              - 初期値はfalseとなっており、状態をtrueに更新
                - 状態の更新に伴ってuseStateが発火しコンポーネントが更新される
                  - alertとしてメールアドレスかパスワードが間違っていますが表示される
      - try,catchでエラーが発生した場合にはcatchでエラーを取得して
        - コンソールにエラーを出力
        - setAlertMessageOpenにtrueを渡す
            - alertMessageOpenは真偽値で状態を管理している
              - 初期値はfalseとなっており、状態をtrueに更新
                - 状態の更新に伴ってuseStateが発火しコンポーネントが更新される
                  - alertとしてメールアドレスかパスワードが間違っていますが表示される
    - 最終結果として
      - サインアップに成功している場合にはhomeページへ遷都
      - サインアップに失敗した場合にはalertメッセージが表示されるようになる
- 画像データの取り扱い
  - 画像をアップロードするinputはtypeをfileに指定する
    - 画像をアップロードした場合
      - onChange関数が発火する
        - uploadImage(e)
          - 発生したイベントを引数に受け取る
          - 変数fileを定義
            - e.target.files
              - 選択したファイルが配列として格納されている
                - 1番、最初の要素を取得する
              - setImageでuseStateを使って状態の更新を行う
        - previewImage(e)

- ***コールグラフ***
  - SignUpコンポーネント
  
  　↓
  - Buttonコンポーネント => onClick => handleSubmit関数

  　↓
  - 